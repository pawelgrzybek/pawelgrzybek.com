<div class="share" id="share">
  <p>
    Did you like it? Please share it with your friends or get me a
    <del>beer</del> coffee. Thanks!
  </p>
  <div class="share__buttons">
    <button class="btn js-share-button"></button>
    <a class="btn" href="https://www.buymeacoffee.com/pawelgrzybek"
      >Buy me a coffee</a
    >
  </div>
  <p hidden class="js-share-confirmation">All done ðŸ‘Œ</p>
</div>

<script>
  const ELEMENT_SHARE_BUTTON = document.querySelector(".js-share-button");
  const ELEMENT_SHARE_BUTTON_CONFIRMATION = document.querySelector(
    ".js-share-confirmation"
  );
  const isShareSupported = "share" in navigator;

  ELEMENT_SHARE_BUTTON.textContent = isShareSupported ? "Share it" : "Copy URL";

  ELEMENT_SHARE_BUTTON.addEventListener("click", () => {
    (isShareSupported
      ? navigator.share({
          title: document.title,
          url: location.href,
        })
      : navigator.clipboard.writeText(location.href)
    )
      .then(() => ELEMENT_SHARE_BUTTON_CONFIRMATION.removeAttribute("hidden"))
      .catch((error) => console.log(error.message));
  });
</script>
